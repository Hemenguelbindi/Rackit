# üöÄ Rackit

*Read this in other languages: [English](README_EN.md), [–†—É—Å—Å–∫–∏–π](README.md)*

![Rust](https://img.shields.io/badge/rust-1.70+-orange.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Version](https://img.shields.io/badge/version-0.1.0-green.svg)

**Rackit** - —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–µ—Ç–µ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Rust. –ü—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Ä–æ—É—Ç–µ—Ä—ã, –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä—ã, —Å–µ—Ä–≤–µ—Ä—ã) —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ–¥–æ–±–Ω—ã–π Ansible –∏–ª–∏ Terraform.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üîß **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- üóÇÔ∏è **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ TOML**: –ü—Ä–æ—Å—Ç—ã–µ –∏ —á–∏—Ç–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- üîå **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã**: Serial, Telnet, SSH, HTTP/HTTPS
- üìã **CLI –∫–∞–∫ —É –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**: –ö–æ–º–∞–Ω–¥—ã –≤ —Å—Ç–∏–ª–µ Ansible/Terraform
- ‚ö° **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- üõ°Ô∏è **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ì–∏–±–∫–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–∏ —Å–±–æ—è—Ö
- üìä **–ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

- **Eltex ESR-200** - —Ä–æ—É—Ç–µ—Ä—ã —á–µ—Ä–µ–∑ Serial-–ø–æ—Ä—Ç
- **Cisco** —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **Linux —Å–µ—Ä–≤–µ—Ä—ã** —á–µ—Ä–µ–∑ SSH (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- Extensible –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ò–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

```bash
git clone https://github.com/yourusername/rackit.git
cd rackit
cargo build --release
```

–ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ `target/release/rackit`

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Rust 1.70 –∏–ª–∏ –Ω–æ–≤–µ–µ
- Linux/Unix —Å–∏—Å—Ç–µ–º–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ—Ä—Ç–∞–º
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º `/dev/ttyS*` –∏–ª–∏ `/dev/ttyUSB*`

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä
rackit example my-config.toml

# –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä –¥–ª—è Eltex —É—Å—Ç—Ä–æ–π—Å—Ç–≤
rackit example eltex-config.toml --template eltex

# –°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä
rackit example minimal.toml --template minimal
```

### 2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –ø–æ–¥ –≤–∞—à–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:

```toml
[global_settings]
max_retries = 3
command_delay_ms = 200
default_timeout_seconds = 30

[devices.my_router]
[devices.my_router.device_info]
name = "Eltex ESR-200"
device_type = "router"
vendor = "Eltex"

[devices.my_router.connection]
transport = "serial"
host = "/dev/ttyS0"
baud_rate = 115200

[devices.my_router.credentials]
username = "admin"
password = "your_password"

[[devices.my_router.command_sequence]]
name = "login"
step_type = { type = "login" }
on_error = "stop"

[[devices.my_router.command_sequence]]
name = "show_system"
step_type = { type = "command", data = { command = "show system" } }
on_error = "continue"
```

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
rackit validate my-config.toml

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
rackit plan my-config.toml --detailed

# –°—É—Ö–æ–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥)
rackit run my-config.toml --dry-run

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
rackit run my-config.toml
```

## üìö –ö–æ–º–∞–Ω–¥—ã CLI

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ê–Ω–∞–ª–æ–≥ |
|---------|----------|--------|
| `rackit run` | –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é | `ansible-playbook` |
| `rackit plan` | –ü–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | `terraform plan` |
| `rackit validate` | –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é | `terraform validate` |
| `rackit list` | –°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ | `ansible-inventory --list` |
| `rackit example` | –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | - |
| `rackit check` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ | `ansible all -m ping` |
| `rackit shell` | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ | `ansible -m shell` |

### –û–ø—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `-v, --verbose` | –î–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ |
| `-q, --quiet` | –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º |
| `--dry-run` | –°—É—Ö–æ–π –∑–∞–ø—É—Å–∫ |
| `--parallel` | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ |
| `--ignore-errors` | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö |

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–±–æ—Ç–∞ —Å –æ–¥–Ω–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
rackit run config.toml --device router1

# –î–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥
rackit --verbose run config.toml --device router1
```

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

```bash
# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
rackit run config.toml --parallel --max-parallel 10

# –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
rackit run config.toml --parallel --ignore-errors
```

### –û—Ç–ª–∞–¥–∫–∞

```bash
# –°—É—Ö–æ–π –∑–∞–ø—É—Å–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
rackit --verbose run config.toml --dry-run

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
rackit check config.toml --timeout 30
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ cli/           # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (clap)
‚îú‚îÄ‚îÄ config_engine/ # –î–≤–∏–∂–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (TOML)
‚îú‚îÄ‚îÄ device/        # –î—Ä–∞–π–≤–µ—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îú‚îÄ‚îÄ transport/     # –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã
‚îú‚îÄ‚îÄ error/         # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îî‚îÄ‚îÄ lib.rs         # –ü—É–±–ª–∏—á–Ω—ã–π API
```

### –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã

- **Serial** - COM-–ø–æ—Ä—Ç—ã –∏ USB-to-Serial –∞–¥–∞–ø—Ç–µ—Ä—ã
- **Telnet** - –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π telnet (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **SSH** - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **HTTP/HTTPS** - REST API (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

### –¢–∏–ø—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤

- **Router** - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã
- **Switch** - –ö–æ–º–º—É—Ç–∞—Ç–æ—Ä—ã
- **Server** - –°–µ—Ä–≤–µ—Ä—ã
- **Firewall** - –ú–µ–∂—Å–µ—Ç–µ–≤—ã–µ —ç–∫—Ä–∞–Ω—ã
- **Custom** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°–±–æ—Ä–∫–∞

```bash
cargo build
cargo test
cargo clippy
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å –≤ `src/device/`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ç—Ä–µ–π—Ç `DeviceCommands`
3. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–≤–∏–∂–æ–∫
4. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å –≤ `src/transport/`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ç—Ä–µ–π—Ç `Transport`
3. –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–∏–ø—ã
4. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ TOML —Ñ–∞–π–ª–∞

```toml
[global_settings]
max_retries = 3
command_delay_ms = 100
default_timeout_seconds = 30

[devices.device_id]
[devices.device_id.device_info]
name = "Device Name"
device_type = "router"  # router|switch|server|firewall|custom
vendor = "Vendor Name"
model = "Model"

[devices.device_id.connection]
transport = "serial"    # serial|telnet|ssh|http|https
host = "/dev/ttyS0"
baud_rate = 115200      # –¥–ª—è serial
timeout_seconds = 10

[devices.device_id.credentials]
username = "admin"
password = "password"

[[devices.device_id.command_sequence]]
name = "step_name"
step_type = { type = "login" }
on_error = "stop"       # stop|continue|retry|goto_step

[[devices.device_id.command_sequence]]
name = "command_step"
step_type = { type = "command", data = { command = "show version" } }
on_error = "continue"
timeout_seconds = 5
```

### –¢–∏–ø—ã —à–∞–≥–æ–≤

- `login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `logout` - –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- `command` - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
- `delay` - –ü–∞—É–∑–∞
- `wait_prompt` - –û–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- `check_response` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork –ø—Ä–æ–µ–∫—Ç–∞
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –ö–æ–º–∞–Ω–¥–µ Rust –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ—Ä–∞–º –±–∏–±–ª–∏–æ—Ç–µ–∫ `clap`, `serde`, `serialport`
- –°–æ–æ–±—â–µ—Å—Ç–≤—É –∑–∞ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –∏–¥–µ–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üêõ [Issues](https://github.com/Hemenguelbindi/rackit/issues)
- üí° [Discussions](https://github.com/Hemenguelbindi/rackit/discussions)
- üìß Email: nilafe4@gmail.com

---

‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥–æ—á–∫—É –Ω–∞ GitHub! 